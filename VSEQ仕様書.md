# VSEQ アプリケーション仕様書

## 1. 概要
BenchlingやGeneiousのような配列管理・解析アプリケーション。
直感的なUIで配列ファイルの管理、閲覧、および基本的なクローニングシミュレーションやサンガー解析機能を提供する。

## 2. 技術スタック (提案)
- **Framework**: React (Vite) + TypeScript
- **Styling**: Tailwind CSS (モダンでプレミアムなデザインを実現)
- **State Management**: Zustand
- **Icons**: Lucide React
- **Bioinformatics**:
    - 配列表示: `seqviz` (React component library for viewing DNA sequences) またはカスタムSVG/Canvas実装
    - ファイル解析: `bio-parsers` (GenBank, FASTA, AB1 support)

## 3. UI/UX デザイン
### レイアウト構成案
原案の構成（右側に全体ディレクトリ）は一般的ではないため、以下の2パターンを提案します。

**案A: モダンスタンダード (推奨)**
- **左サイドバー**: グローバルディレクトリツリー (プロジェクト/フォルダ一覧)
- **中央カラム**: 選択したフォルダ内のファイルリスト
- **右メインエリア**: 配列ビューアー / 解析画面
- *メリット*: 多くのエディタ(VSCode等)と同じで直感的。

**案B: 原案準拠**
- **右サイドバー**: グローバルディレクトリツリー
- **左上**: ファイルリスト
- **左下**: 配列ビューアー
- *メリット*: 原案のイメージに近い。

### デザインテーマ
- ダークモード対応のモダンでクリーンなインターフェース
- アクセントカラーを用いた視認性の高いFeature表示
- 滑らかなインタラクション

## 4. 機能要件

### 4.1 基本画面 & ファイル管理
- **プロジェクト/フォルダ管理**:
    - 階層構造の表示と操作（作成、リネーム、削除）
    - ドラッグ＆ドロップによる整理（実装難易度高め、Phase 2以降検討）
- **ファイル操作**:
    - ファイルのインポート (GenBank, FASTA, .ab1)
    - 複数選択機能

### 4.2 配列ビューアー
- **表示機能**:
    - **DNA配列**: 塩基配列と相補鎖の表示
    - **Feature**: 注釈の可視化（矢印や色付きバー）、クリックでの詳細表示
    - **翻訳**: 選択範囲またはORFのアミノ酸配列表示
    - **形式切り替え**: 直鎖 (Linear) / 環状 (Circular)
- **編集・操作**:
    - **範囲選択**: マウスドラッグでの選択
    - **コピー**:
        - そのままコピー
        - Reverse Complement (逆相補鎖) としてコピー
    - **複数表示**: 複数ファイル選択時の並列表示（Split View）

### 4.3 解析機能 (Advanced)
- **Golden-Gate Cloning Simulation**:
    - 入力: 複数のDNAフラグメントファイル
    - パラメータ: 制限酵素 (BsaI, BbsI等) の選択
    - 出力: ライゲーション後のプラスミド配列生成
- **Sanger Sequencing Analysis**:
    - 入力: 参照配列ファイル + サンガーシークエンス結果 (.ab1)
    - 処理: 波形データの表示（要検討: ライブラリ選定）、ペアワイズアライメント
    - 出力: 一致率、変異箇所のハイライト

## 5. 開発ロードマップ
1.  **Phase 1 (MVP)**:
    - プロジェクト作成・UIの枠組み実装
    - GenBank/FASTAファイルの読み込みと表示 (Linear/Circular)
    - 基本的な配列操作 (選択、コピー)
2.  **Phase 2 (Analysis)**:
    - Golden-Gate Cloning シミュレーション
    - Feature編集機能
3.  **Phase 3 (Integration)**:
    - Sanger解析 (.ab1 viewer & alignment)
    - データ永続化の強化
